name: PR Title - Conventional Commits

on:

  pull_request_target:

    types: [opened, edited, synchronize]

permissions:

  pull-requests: read

jobs:

  lint:

    runs-on: ubuntu-latest

    steps:

      - uses: amannn/action-semantic-pull-request@v5

        env:

          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

        with:

          types: |

            chore

            feat

            fix

            docs

            refactor

            test

            build

            ci

            perf

            style

          scopes: |

            security

            governance

            studies

            frontend

            backend

            infra

            ci

            docs

          requireScope: false

          subjectPattern: '^(?!.*(WIP|wip)).+'

          subjectPatternError: 'Avoid WIP in PR title'
