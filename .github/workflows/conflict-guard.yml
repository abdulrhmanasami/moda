name: Conflict Guard

on:

  pull_request:

  push:

jobs:

  guard:

    runs-on: ubuntu-latest

    steps:

      - uses: actions/checkout@v4

      - name: Fail if merge conflict markers exist

        run: |

          if git grep -n '^[<=>]\{7\}' -- . ; then

            echo "Conflict markers found. Failing."

            exit 1

          fi
